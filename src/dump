class EventPost(models.Model):
    CATEGORY_CHOICE = [
      ('COMP/IT', 'Computer'),
      ('EXTC/ETRX', 'Electrical'),
      ('MECH/AUTO', 'Mechanical'),
      ('ALL', 'All'),
      ('NON-TECH', 'Non-Technical'),
      ]

    title 					= models.CharField(max_length=50, null=False, blank=False)
    body 					= models.TextField(max_length=5000, null=False, blank=False)
    image		 			= models.ImageField(upload_to=upload_location, null=True, blank=True)
    category                = models.CharField(max_length=10, choices=CATEGORY_CHOICE, default='All')
    reg_from                = models.DateField(auto_now=False, auto_now_add=False, null=False, blank=False, verbose_name="registration from")
    reg_to                  = models.DateField(auto_now=False, auto_now_add=False, null=False, blank=False, verbose_name="registration to")
    fee                     = models.PositiveIntegerField(default=0)
    reg_link                = models.URLField(null=False, blank=False)
    date_published 			= models.DateTimeField(auto_now_add=True, verbose_name="date published")
    date_updated 			= models.DateTimeField(auto_now=True, verbose_name="date updated")
    author 					= models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)
    slug 					= models.SlugField(blank=True, unique=True)


    INSERT INTO "main"."committee_committee" ("id", "name", "description", "image", "back_image", "date_created", "link", "date_updated", "slug", "author_id") VALUES ('1', 'CSI-PCE', 'Formed in 1965, the CSI has been instrumental in guiding the Indian IT industry down the right path since its formative years. Today, the CSI has 70 chapters all over India, 358 student branches, and more than 90,000 members, including India''s most famous IT industry leaders, brilliant scientists and dedicated academicians. Now, you have the opportunity to be a part of this distinguished fraternity too.
    The mission of the CSI is to facilitate research, knowledge sharing, learning and career enhancement for all categories of IT professionals, while simultaneously inspiring and nurturing new entrants into the industry and helping them to integrate into the IT community.
    The CSI is also working closely with other industry associations, government bodies and academia to ensure that the benefits of IT advancement ultimately percolate down to every single citizen of India.', 'committee/1/CSI-PCE-csi_Ui9aO9O.jfif', '', '2020-07-28 13:58:44.693815', 'http://www.csi.piit.ac.in/', '2020-07-28 14:40:52.111487', 'aakarsh-csi-pce', '1');
    INSERT INTO "main"."committee_committee" ("id", "name", "description", "image", "back_image", "date_created", "link", "date_updated", "slug", "author_id") VALUES ('2', 'AESA-MESA', 'The association is for the students and hence managed by the students. We intend to tap the youth potential through co-curricular activities. The activities could be simple technical competitions to complex seminars and expert lectures. The association also maintains ''The PIIT Journal of Mechanical Engineering'' (ISSN:2277-5951) yearly. All the activities are solely managed by students end-to-end. We receive active participation of students from the department of Mechanical and Automobile Engineering. We insist the senior lot of undergraduate students to mentor their juniors through these activities. Juniors in turn keep up the legacy. All the faculty from the department of Mechanical and Automobile Engineering lend their support to the cause. The association on frequent basis apprises The Principal and The Institute Management, who always facilitate the successful conduct of all the activities.', 'committee/1/AESA-MESA-mesa_aesa.jpg', '', '2020-07-28 15:43:52.393887', 'https://sites.google.com/a/mes.ac.in/mesa-aesa/home', '2020-07-28 15:43:52.393887', 'aakarsh-aesa-mesa', '1');
    INSERT INTO "main"."committee_committee" ("id", "name", "description", "image", "back_image", "date_created", "link", "date_updated", "slug", "author_id") VALUES ('3', 'ETSA', 'ETSA was initiated as a student arm of Electronics and Telecommunication Department in PIIT to make the students more competitive with the globe.

    The primary goal of ETSA is to enhance the budding engineers with technological guile and know-how, competitive, develop leadership qualities in individuals and develop some cohesive organizational skills. Under the master & expertise of our qualified professors it will augment student-teacher interaction on practical level so as to engage the application section of the brain. What it also provides is the immense opportunity for students to bring the best out of their co-curricular skills, thereby ensuring the student is as close to virtuous mastery as possible by B.E.Engineering.', 'committee/1/ETSA-etsa.jpg', '', '2020-07-28 15:47:43.028443', 'http://etsa.piit.ac.in/', '2020-07-28 15:47:43.028443', 'aakarsh-etsa', '1');
    INSERT INTO "main"."committee_committee" ("id", "name", "description", "image", "back_image", "date_created", "link", "date_updated", "slug", "author_id") VALUES ('4', 'IEEE-PCE', 'The institute of Electrical and Electronics Engineering (IEEE).', 'committee/1/IEEE-PCE-ieee.png', '', '2020-07-28 15:51:19.803899', 'https://www.pce.ac.in/students/student-activities/student-associations/ieee/', '2020-07-28 15:51:19.803899', 'aakarsh-ieee-pce', '1');
    INSERT INTO "main"."committee_committee" ("id", "name", "description", "image", "back_image", "date_created", "link", "date_updated", "slug", "author_id") VALUES ('5', 'TPC-PCE', 'The Training and Placement Cell is an integral part of the PCE Institution. The PCE management is fully invested in providing sound infrastructure and human resources to maintain the Training and Placement Cell and the resulting opportunities the cell provides to students of the College. The Placement Cell’s primary objective is to provide training and placements to college students. Various activities take place throughout the academic year in the college. Students are motivated to take the initiative to develop their attitude, soft skills and are given the opportunity to develop technical skills alongside analytical capabilities. The Training and Placement Cell aims to expose students to the nature of the corporate world therefore providing insight to their future professional careers', 'committee/1/TPC-PCE-tpc.PNG', '', '2020-07-28 16:12:51.446969', 'https://www.pce.ac.in/tpc-pce/index.html', '2020-07-28 17:24:11.543542', 'aakarsh-tpc-pce', '1');
    INSERT INTO "main"."committee_committee" ("id", "name", "description", "image", "back_image", "date_created", "link", "date_updated", "slug", "author_id") VALUES ('6', 'NSS', 'National Service Scheme', 'committee/1/NSS-nss.jpeg', '', '2020-07-28 16:17:01.008237', 'https://www.pce.ac.in/students/student-activities/student-associations/nss/', '2020-07-28 16:17:01.008237', 'aakarsh-nss', '1');


    {% extends "layout2.html" %}
    {% block content %}
    <head>
    <style>
    .xop-grid li {
        	width: 328px;
        	height: 328px;
        	display: inline-block;
        	margin: 20px;
        }

    .xop-box {
    	width: 100%;
    	height: 100%;
    	position: relative;
    	cursor: pointer;
        border-radius: 10px;
        -webkit-transition: 0.3s ease-in-out,
        -webkit-transform 0.3s ease-in-out;
    	-moz-transition:  0.3s ease-in-out,
        -moz-transform 0.3s ease-in-out;
        transition: all 0.3s ease-in-out,
        transform 0.3s ease-in-out, ;
    }

    .xop-box:hover {
    	transform: scale(1.05);
    }

    .xop-img-1 {
    	background: linear-gradient( rgba(0, 0, 0, 0.50), rgba(0, 0, 0, 0.10)), /* bottom, image */
    	url(../static/events_img/concerts.jpg);
    }

    .xop-img-2 {
    	background: linear-gradient( rgba(0, 0, 0, 0.50), rgba(0, 0, 0, 0.10)), /* bottom, image */
        url(../static/events_img/fine_arts.jpg);
    }

    .xop-img-3 {
    	background: linear-gradient( rgba(0, 0, 0, 0.50), rgba(0, 0, 0, 0.10)), /* bottom, image */
        url(../static/events_img/gaming.jpg);
    }

    .xop-img-4 {
    	background: linear-gradient( rgba(0, 0, 0, 0.50), rgba(0, 0, 0, 0.10)), /* bottom, image */
        url(../static/events_img/informals.jpg);
    }

    .xop-img-5 {
    	background: linear-gradient( rgba(0, 0, 0, 0.50), rgba(0, 0, 0, 0.10)), /* bottom, image */
        url(../static/events_img/literary_arts.jpg);
    }

    .xop-img-6 {
    	background: linear-gradient( rgba(0, 0, 0, 0.50), rgba(0, 0, 0, 0.10)), /* bottom, image */
        url(../static/events_img/management.jpg);
    }

    .xop-img-7 {
    	background: linear-gradient( rgba(0, 0, 0, 0.50), rgba(0, 0, 0, 0.10)), /* bottom, image */
        url(../static/events_img/performing_arts.jpg);
    }

    .xop-img-8 {
    	background: linear-gradient( rgba(0, 0, 0, 0.50), rgba(0, 0, 0, 0.10)), /* bottom, image */
        url(../static/events_img/sports.jpg);
    }

    .xop-img-9 {
    	background: linear-gradient( rgba(0, 0, 0, 0.50), rgba(0, 0, 0, 0.10)), /* bottom, image */
        url(../static/events_img/tech_events.jpg);
    }

    .xop-img-10 {
    	background: linear-gradient( rgba(0, 0, 0, 0.50), rgba(0, 0, 0, 0.10)), /* bottom, image */
        url(../static/events_img/tech_workshops.jpg);
    }

    .xop-img-11 {
    	background: linear-gradient( rgba(0, 0, 0, 0.50), rgba(0, 0, 0, 0.10)), /* bottom, image */
        url(../static/events_img/workshops.jpg);
    }

    .xop-info {
    	position: absolute;
    	width: inherit;
    	height: inherit;
    }

    .xop-info h3 {
    	font-family: 'Pacifico', cursive;
    	font-weight: 400;
    	color: #fff;
    	font-size: 42px;
    	margin: 0 30px;
    	padding: 100px 0 0 0;
    	line-height: 1.5;
    }

    .xop-info p {
    	font-family: 'Source Sans Pro', sans-serif;
    	color: #fff;
    	padding: 4px 5px;
    	margin: 0 30px;
    	font-size: 14px;
    	line-height: 2;
    }

    h1{
        text-align: center
    }
    </style>
    </head>
    <div>
        <h1>Events Categories</h1>
    </div>
    <div>
        <h1>List</h1>
    </div>
    <div class="xop-section">
      <ul class="xop-grid">
        <li>
          <div class="xop-box xop-img-1">
            <a href="{{ url_for('events.concerts') }}">
            <div class="xop-info">
              <h3>Concerts</h3>
              <p>Nulla commodo iaculis vulputate.</p>
            </div></a>
          </div>
        </li>
        <li>
          <div class="xop-box xop-img-2">
              <a href="{{ url_for('events.fine_arts') }}">
            <div class="xop-info">
              <h3>Fine Arts</h3>
              <p>Nulla commodo iaculis vulputate.</p>
            </div></a>
          </div>
        </li>
        <li>
          <div class="xop-box xop-img-3">
            <a href="{{ url_for('events.gaming') }}">
            <div class="xop-info">
              <h3>Gaming</h3>
              <p>Nulla commodo iaculis vulputate.</p>
            </div></a>
          </div>
        </li>
        <li>
          <div class="xop-box xop-img-4">
            <a href="{{ url_for('events.informals') }}">
            <div class="xop-info">
              <h3>Informals</h3>
              <p>Nulla commodo iaculis vulputate.</p>
            </div></a>
          </div>
        </li>
        <li>
          <div class="xop-box xop-img-5">
            <a href="{{ url_for('events.literary_arts') }}">
            <div class="xop-info">
              <h3>Literary Arts</h3>
              <p>Nulla commodo iaculis vulputate.</p>
            </div></a>
          </div>
        </li>
        <li>
          <div class="xop-box xop-img-6">
            <a href="{{ url_for('events.management') }}">
            <div class="xop-info">
              <h3>Management</h3>
              <p>Nulla commodo iaculis vulputate.</p>
            </div></a>
          </div>
        </li>
        <li>
          <div class="xop-box xop-img-7">
            <a href="{{ url_for('events.performing_arts') }}">
            <div class="xop-info">
              <h3>Performing Arts</h3>
              <p>Nulla commodo iaculis vulputate.</p>
            </div></a>
          </div>
        </li>
        <li>
          <div class="xop-box xop-img-8">
            <a href="{{ url_for('events.sports') }}">
            <div class="xop-info">
              <h3>Sports</h3>
              <p>Nulla commodo iaculis vulputate.</p>
            </div></a>
          </div>
        </li>
        <li>
          <div class="xop-box xop-img-9">
            <a href="{{ url_for('events.tech_events') }}">
            <div class="xop-info">
              <h3>Technical Events</h3>
              <p>Nulla commodo iaculis vulputate.</p>
            </div></a>
          </div>
        </li>
        <li>
          <div class="xop-box xop-img-10">
            <a href="{{ url_for('events.tech_workshops') }}">
            <div class="xop-info">
              <h3>Technical Workshops</h3>
              <p>Nulla commodo iaculis vulputate.</p>
            </div></a>
          </div>
        </li>
        <li>
          <div class="xop-box xop-img-11">
            <a href="{{ url_for('events.workshops') }}">
            <div class="xop-info">
              <h3>Workshops</h3>
              <p>Nulla commodo iaculis vulputate.</p>
            </div></a>
          </div>
        </li>
      </ul>
    </div>
    {% endblock content %}


    INSERT INTO "main"."committee_committee" ("id", "name", "description", "image", "back_image", "date_created", "link", "date_updated", "slug", "author_id") VALUES ('1', 'CSI-PCE', 'Formed in 1965, the CSI has been instrumental in guiding the Indian IT industry down the right path since its formative years. Today, the CSI has 70 chapters all over India, 358 student branches, and more than 90,000 members, including India''s most famous IT industry leaders, brilliant scientists and dedicated academicians. Now, you have the opportunity to be a part of this distinguished fraternity too.
        The mission of the CSI is to facilitate research, knowledge sharing, learning and career enhancement for all categories of IT professionals, while simultaneously inspiring and nurturing new entrants into the industry and helping them to integrate into the IT community.
        The CSI is also working closely with other industry associations, government bodies and academia to ensure that the benefits of IT advancement ultimately percolate down to every single citizen of India.', 'committee/1/CSI-PCE-csi_Ui9aO9O.jfif', '', '2020-07-28 13:58:44.693815', 'http://www.csi.piit.ac.in/', '2020-07-29 04:10:37.443451', 'aakarsh-csi-pce', '2');
    INSERT INTO "main"."committee_committee" ("id", "name", "description", "image", "back_image", "date_created", "link", "date_updated", "slug", "author_id") VALUES ('2', 'AESA-MESA', 'The association is for the students and hence managed by the students. We intend to tap the youth potential through co-curricular activities. The activities could be simple technical competitions to complex seminars and expert lectures. The association also maintains ''The PIIT Journal of Mechanical Engineering'' (ISSN:2277-5951) yearly. All the activities are solely managed by students end-to-end. We receive active participation of students from the department of Mechanical and Automobile Engineering. We insist the senior lot of undergraduate students to mentor their juniors through these activities. Juniors in turn keep up the legacy. All the faculty from the department of Mechanical and Automobile Engineering lend their support to the cause. The association on frequent basis apprises The Principal and The Institute Management, who always facilitate the successful conduct of all the activities.', 'committee/1/AESA-MESA-mesa_aesa.jpg', '', '2020-07-28 15:43:52.393887', 'https://sites.google.com/a/mes.ac.in/mesa-aesa/home', '2020-07-28 15:43:52.393887', 'aakarsh-aesa-mesa', '1');
    INSERT INTO "main"."committee_committee" ("id", "name", "description", "image", "back_image", "date_created", "link", "date_updated", "slug", "author_id") VALUES ('3', 'ETSA', 'ETSA was initiated as a student arm of Electronics and Telecommunication Department in PIIT to make the students more competitive with the globe.

        The primary goal of ETSA is to enhance the budding engineers with technological guile and know-how, competitive, develop leadership qualities in individuals and develop some cohesive organizational skills. Under the master & expertise of our qualified professors it will augment student-teacher interaction on practical level so as to engage the application section of the brain. What it also provides is the immense opportunity for students to bring the best out of their co-curricular skills, thereby ensuring the student is as close to virtuous mastery as possible by B.E.Engineering.', 'committee/1/ETSA-etsa.jpg', '', '2020-07-28 15:47:43.028443', 'http://etsa.piit.ac.in/', '2020-07-28 15:47:43.028443', 'aakarsh-etsa', '1');
    INSERT INTO "main"."committee_committee" ("id", "name", "description", "image", "back_image", "date_created", "link", "date_updated", "slug", "author_id") VALUES ('4', 'IEEE-PCE', 'The institute of Electrical and Electronics Engineering (IEEE).', 'committee/1/IEEE-PCE-ieee.png', '', '2020-07-28 15:51:19.803899', 'https://www.pce.ac.in/students/student-activities/student-associations/ieee/', '2020-07-28 15:51:19.803899', 'aakarsh-ieee-pce', '1');
    INSERT INTO "main"."committee_committee" ("id", "name", "description", "image", "back_image", "date_created", "link", "date_updated", "slug", "author_id") VALUES ('5', 'TPC-PCE', 'The Training and Placement Cell is an integral part of the PCE Institution. The PCE management is fully invested in providing sound infrastructure and human resources to maintain the Training and Placement Cell and the resulting opportunities the cell provides to students of the College. The Placement Cell’s primary objective is to provide training and placements to college students. Various activities take place throughout the academic year in the college. Students are motivated to take the initiative to develop their attitude, soft skills and are given the opportunity to develop technical skills alongside analytical capabilities. The Training and Placement Cell aims to expose students to the nature of the corporate world therefore providing insight to their future professional careers', 'committee/1/TPC-PCE-tpc.PNG', '', '2020-07-28 16:12:51.446969', 'https://www.pce.ac.in/tpc-pce/index.html', '2020-07-28 17:24:11.543542', 'aakarsh-tpc-pce', '1');
    INSERT INTO "main"."committee_committee" ("id", "name", "description", "image", "back_image", "date_created", "link", "date_updated", "slug", "author_id") VALUES ('6', 'NSS', 'National Service Scheme', 'committee/1/NSS-nss.jpeg', '', '2020-07-28 16:17:01.008237', 'https://www.pce.ac.in/students/student-activities/student-associations/nss/', '2020-07-28 16:17:01.008237', 'aakarsh-nss', '1');


    {% load static %}
    <style>
        #animatedBanner{
                width: 200px;
                height:300px;
                background:#ffff;
                margin-left: 1200px;
                margin-top: 150px;
        }
        #topDoor{
            position: absolute;
            height:150px;
            width: 200px;
            background: #0066ff no-repeat center bottom;
            animation: topOpen 1s ease 1s 1 forwards;
        }
        #bottomDoor{
            position: absolute;
            height:150px;
            margin-top: 150px;
            width: 200px;
            background: #0066ff no-repeat center top;
            animation: bottomOpen 1s ease 1s 1 forwards;
        }
        #pce_logo{
            position: absolute;
            opacity: 0;
            height: 85px;
            margin: 85px 0px 0px 85px;
            animation: flyIn 1s ease 2s 1 forwards;
        }
        #text{
            position: absolute;
            opacity: 0;
            margin:80px 0px 0px 80px;
            animation: Moveup 1s ease 2s 1 forwards;
        }

        @keyframes topOpen{
            0% {
                height: 150px;
            }
            100%{
                height: 0px;
            }
        }
        @keyframes bottomOpen{
            0% {
                height: 150px;
                margin-top: 150px;
            }
            100%{
                height: 0px;
                margin-top: 300px;
            }
        }
        @keyframes flyIn{
            0% {
                height: 0px;
                margin: 0px 0px 0px 50px;
                opacity: 1;
            }
            100%{
                height: 85px;
                margin: 90px 0px 0px 50px;
                opacity: 1;
            }
        }
        @keyframes Moveup{
            0% {
                margin: 400px 0px 0px 60px;
                opacity: 0;
            }
            100%{
                height: 85px;
                margin:190px 0px 0px 60px;
                opacity: 1;
            }
        }

    </style>
    <div id="animatedBanner" style="border: solid;">
        <div id="topDoor"></div>
        <div id="bottomDoor"></div>
        <img src="{% static 'pce_logo.png' %}" alt="pce_logo" id="pce_logo">
        <div id="text">Welcome</div>
    </div>

<!--Filters-->
			<h6>Filter by:</h6>
			<div class="row">
				<form action="." method="get" class="col-lg-4">
					<div class="form-group">
						<label for="id_date">Date published</label>
						<select class="form-control" id="id_date" name="date" placeholder="None">
							<option value="oldest">oldest</option>
							<option value="latest">latest</option>
							<option value="today">today</option>
							<option value="yesterday">yesterday</option>
						</select>
					</div>

					<div class="form-group">
						<label for="id_category">Primary Tag</label>
						<select class="form-control" id="id_category" name="category" placeholder="None">
							<option value="">None</option>
							<option value="COMP/IT">COMP/IT</option>
							<option value="EXTC/ETRX">EXTC/ETRX</option>
							<option value="MECH/AUTO">MECH/AUTO</option>
							<option value="ALL">ALL</option>
							<option value="NON-TECH">NON-TECH</option>
						</select>
					</div>

					<div class="flex-child form-group" class="col-lg-4">
						<label for="id_committee">Committee</label>
						<select class="form-control" id="id_committee" name="committee" placeholder="None">
							{% if obj %}
							{% for committee in obj  %}
							<option value="{{committee.name}}">{{committee.name}}</option>
							{% endfor %}
							{% endif %}
						</select>
					</div>

				</form>
			</div>


      
	@keyframes topOpen {
		0% {
			height: 150px;
		}

		100% {
			height: 0px;
		}
	}

	@keyframes bottomOpen {
		0% {
			height: 150px;
			margin-top: 150px;
		}

		100% {
			height: 0px;
			margin-top: 300px;
		}
	}

	@keyframes fadeInAnimation {
		0% {
			opacity: 0;
		}

		100% {
			opacity: 1;
		}
	}

  <div class="flex-container" flexid="topDoor"></div>
				<div class="flex-container" id="bottomDoor">
</div>

 context = {}

    qs = EventPost.objects.all()

    price_query = request.GET.get("price")

    if is_valid_queryparam(price_query) and price_query != "Select":
        if price_query == "Lowest to Highest":
            qsl = sorted(qs, key=attrgetter("fee"), reverse=True)
        elif price_query == "Highest to Lowest":
            qsl = sorted(qs, key=attrgetter("fee"), reverse=False)

        event_posts = sorted(qsl, key=attrgetter("date_updated"), reverse=True)


       query = []
    ps = request.GET.get("q", "")

    queries = ps.split(" ")
    for q in queries:
        posts = BlogPost.objects.filter(
            Q(title__contains=q)
            | Q(body__icontains=q)
            | Q(author__username__icontains=q)
        ).distinct()
        for post in posts:
            query.append(post)
    blog_posts = sorted(query, key=attrgetter("date_updated"), reverse=True)


    def __str__(self):
        return self.title

    def save(self, *args, **kwargs):
        super().save(*args, **kwargs)

        img = Image.open(self.image.path)

        if img.height > 300 or img.width > 300:
            output_size = (300,300)
            img.thumbnail(output_size)
            img.save(self.image.path)